<main class="main-page">

  <div class="pdp-head-image">
    <img src="{{ product.metafields.snowboard_intro.background_image | image_url: "master" }}"alt="Capita | {{ product.title | strip_html }}">
    <h1>{{ product.title }}</h1>
  </div>

  <div class="c-product js-product-slider">
    <div class="c-product__thumbs">
      <button class="c-product__nav-prev js-product-slider-prev" type="button">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 40 40"><path stroke="#000" stroke-linecap="round" stroke-width="2" d="M33 26 20.5 14 8 26" /></svg></button>
        <div class="c-product__thumbs-slider swiper js-product-slider-thumbs">
            <div class="swiper-wrapper">

                  {% for media in product.media %}
                      {%- assign img_url = media | img_url: '1024x' -%}
                      {%- assign img_url__attr = media | img_url -%}
      
                      <div class="swiper-slide c-product__thumb" 
                      attr-img-url="{{img_url__attr}}" 
                      attr-num="{{ forloop.index0 }}"
                      >
                      <img src="{{ img_url }}" alt="{{ product.title | strip_html }}">
                      </div>
                  {% endfor %}
  
            </div>
        </div>
        <button class="c-product__nav-next js-product-slider-next" type="button"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 40 40"><path stroke="#000" stroke-linecap="round" stroke-width="2" d="m8 14 12.5 12L33 14" /></svg></button>
    </div>
    <div class="c-product__main swiper js-product-slider-main">
        <div class="swiper-wrapper">

          {% for media in product.media %}
              {%- assign img_url = media | img_url: '1024x' -%}
              {%- assign img_url__attr = media | img_url -%}

              <div class="swiper-slide" 
                attr-img-url="{{img_url__attr}}" 
                attr-num="{{ forloop.index0 }}"
                >
                <img src="{{ img_url }}" alt="{{ product.title }}">
              </div>
            {% endfor %}

        </div>
    </div>

    {% include 'product-form' %}

  </div>
  <div class="c-product-tech">
      <div class="c-product-tech__sx">
          <div class="c-product-tech__specs">
              <div class="c-spec"><span class="c-spec__type">shape</span><span class="c-spec__value">true twin</span>
              </div>
              <div class="c-spec"><span class="c-spec__type">sidecut</span><span class="c-spec__value">blended
                      radial</span></div>
              <div class="c-spec"><span class="c-spec__type">flex</span><span class="c-spec__value">{{ product.metafields.snowboard_info.flex_description }}</span>
                  <div class="c-spec__level is-blue" style="--dot-position: {{ product.metafields.snowboard_info.rating__flex }}; --steps: 10">
                      <div class="c-spec__dot"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                  </div>
              </div>
              <div class="c-spec"><span class="c-spec__type">rider type</span><span
                      class="c-spec__value">{{ product.metafields.snowboard_info.rider_type_title }}</span></div>
              <div class="c-spec"><span class="c-spec__type">skill level</span>
                  <div class="c-spec__level" style="--dot-position: 4; --steps: 5">
                      <div class="c-spec__dot"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                  </div>
              </div>
              <div class="c-spec"><span class="c-spec__type">TERRAIN VERSATILITY</span>
                  <div class="c-spec__level" style="--dot-position: {{ product.metafields.snowboard_info.rating__all_mtn }}; --steps: 5">
                      <div class="c-spec__dot"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                  </div>
              </div>
              <div class="c-spec"><span class="c-spec__type">GROOMERS</span>
                  <div class="c-spec__level" style="--dot-position: {{ product.metafields.snowboard_info.rating__performance }}; --steps: 5">
                      <div class="c-spec__dot"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                  </div>
              </div>
              <div class="c-spec"><span class="c-spec__type">POWDER</span>
                  <div class="c-spec__level" style="--dot-position: {{ product.metafields.snowboard_info.rating__powder }}; --steps: 5">
                      <div class="c-spec__dot"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                  </div>
              </div>
              <div class="c-spec"><span class="c-spec__type">JUMPS</span>
                  <div class="c-spec__level" style="--dot-position: {{ product.metafields.snowboard_info.rating__urban }}; --steps: 5">
                      <div class="c-spec__dot"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                  </div>
              </div>
              <div class="c-spec"><span class="c-spec__type">FLAT TRICK / JIBBING</span>
                  <div class="c-spec__level" style="--dot-position: {{ product.metafields.snowboard_info.rating__park }}; --steps: 5">
                      <div class="c-spec__dot"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                      <div class="c-spec__line"></div>
                  </div>
              </div>
          </div>
      </div>
      <div class="c-product-tech__dx">
          <div class="c-product-tech__story"><span class="c-product-tech__subtitle">tech story</span><span
                  class="c-product-tech__title">{{ product.title }}</span>
              <div class="c-product-tech__text">
                  {{ product.metafields.snowboard_info.snowboard_description }}
              </div>
          </div>
          <div class="c-product-tech__story"><span class="c-product-tech__subtitle">camber</span><span
                  class="c-product-tech__title"{{ product.metafields.snowboard_info.camber_type }}</span>
              <div class="c-product-tech__text">
                  {{ product.metafields.snowboard_info.camber_description }}
              </div>
          </div>
          <div class="c-product-tech__image">
            <img src="{{ product.metafields.snowboard_info.camber_image | image_url : "master" }}" alt="{{ product.title | strip_html }}">
          </div>
      </div>
      <div class="c-product-tech__video">

        <iframe 
          id="youtube-{{ product.metafields.snowboard_intro.product_video }}" 
          frameborder="0" 
          allowfullscreen="1" 
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
          title="Player for CAPiTA Snowboards | {{ product.title | strip_html }}" 
          width="100%" 
          height="100%" 
          src="https://www.youtube.com/embed/{{ product.metafields.snowboard_intro.product_video }}?autoplay=0;controls=0;disablekb=1;playsinline=1;cc_load_policy=0;cc_lang_pref=auto;">
        </iframe>
      
      </div>
  </div>

  <div class="c-product-details js-product-details">
    <div class="u-container">
      <div class="c-product-details__content">
        <div class="c-product-details__tabs js-details-tabs">
          <button class="c-product-details__tab-btn is-active js-details-tabs-btn" type="button" data-tab="constructions">constructions</button>
          <button class="c-product-details__tab-btn js-details-tabs-btn" type="button" data-tab="accolades">accolades</button>
          <button class="c-product-details__tab-btn js-details-tabs-btn" type="button" data-tab="size-chart">specs</button>
        </div>
        <div class="c-product-details__container">
          <!-- COMPONENTE SIZE CHART-->
          <div class="c-product-details__size-chart js-details-tabs-section" data-section="size-chart">
            <div class="c-size-chart swiper js-size-chart">
              <div class="swiper-wrapper">
                <div class="swiper-slide c-size-chart__column">


{{ product.metafields.snowboard_info.dimensions }}

                  {% comment %} <div class="c-size-chart__title-line"><span>length</span><span>EFFECTIVE EDGE (MM)</span><span>WAIST</span><span>NOSE/TAIL</span><span>SIDECUT</span><span>MAX STANCE (CM/INCHES)</span><span>SUGGESTED WEIGHT (LBS/KG)</span></div>
                  <div class="c-size-chart__values-line"><span>152</span><span>154</span><span>156</span><span>158</span><span>160</span><span>155W</span><span>158W</span></div>
                  <div class="c-size-chart__values-line"><span>152</span><span>154</span><span>156</span><span>158</span><span>160</span><span>155W</span><span>170-230+/77-104+</span></div> {% endcomment %}
                </div>
              </div>
              <div class="c-size-chart__scrollbar swiper-scrollbar"></div>
            </div>
          </div>
          <!-- FINE COMPONENTE SIZE CHAT-->
          <!-- COMPONENTE ACCOLADES-->
          <div class="c-product-details__accolades js-details-tabs-section" data-section="accolades">
            <div class="c-accolades"><span class="c-accolades__subtitle">AWARD:</span><span class="c-accolades__title">{{ product.metafields.accentuate.award_title }}</span>
              <div class="c-accolades__text">
                {{ product.metafields.accentuate.award_description.html }}
              </div>
              <div class="c-accolades__video">
                <iframe src="https://www.youtube.com/embed/{{ product.metafields.snowboard_info.award_video }}" title="Capita Award | {{ product.metafields.accentuate.award_title }}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen"></iframe>
              </div>
            </div>
          </div>
          <!-- FINE COMPONENTE ACCOLADES-->
          <!-- COMPONENTE CONSTRUCTIONS-->
          <div class="c-product-details__constructions js-details-tabs-section is-active" data-section="constructions">
            <div class="c-constructions js-constructions">
              <div class="c-constructions__dragger js-constructions-dragger swiper">
                <div class="swiper-wrapper">
                  <div class="swiper-slide">

                    <div class="c-hotspot js-constructions-hotspot" 
                      style="
                      --x-mob: {{ product.metafields.construction_hotspot.coordinates_x_mob }}; 
                      --x-desk: {{ product.metafields.construction_hotspot.coordinates_x_desk }}; 
                      --y-mob: {{ product.metafields.construction_hotspot.coordinates_y_mob }}; 
                      --y-desk: {{ product.metafields.construction_hotspot.coordinates_y_desk }};
                      " 
                      data-title="{{ product.metafields.construction_hotspot.board_construction_hotspot_title }}" 
                      data-descr="{{ product.metafields.construction_hotspot.board_construction_hotspot_description.html }}" 
                      data-image="{{ product.metafields.construction_hotspot.board_construction_hotspot_image | image_url: "master" }}"
                    >
                      <div class="c-hotspot__btn js-constructions-hotspot-btn">
                        <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" clip-rule="evenodd" d="M26 16c0 5.523-4.477 10-10 10S6 21.523 6 16 10.477 6 16 6s10 4.477 10 10Zm-5.169 0a.882.882 0 0 1-.882.882H16.98v3.492a.882.882 0 0 1-1.765 0v-3.492H12.25a.882.882 0 0 1 0-1.764h2.965v-3.493a.882.882 0 1 1 1.765 0v3.493h2.97c.486 0 .881.395.881.882Z"></path>
                          <circle cx="16" cy="16" r="15" stroke="#C8102E" stroke-width="2"></circle>
                        </svg>
                      </div>
                      <div class="c-hotspot__tooltip js-constructions-hotspot-tooltip" data-mob-x="right" data-mob-y="top" data-desk-x="right" data-desk-y="bottom">
                        <button class="c-hotspot__read-more" type="button">
                          Read more<svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                                      <circle cx="19.5" cy="19.5" r="7"/>
                                      <path d="M22.498 19.5H16.498" stroke-linecap="round"/>
                                      <path d="M19.5 16.0898V22.908" stroke-linecap="round"/>
                                      </svg>
  
                        </button><span class="c-hotspot__position">core</span><span class="c-hotspot__name">3d thermopolymer supercore</span>
                      </div>
                    </div>

                    <picture><img class="c-constructions__image" src="{{ product.metafields.snowboard_info["3d_board_construction_image"] | image_url: "master" }}"/></picture>

                  </div>
                </div>
                <div class="c-constructions__scrollbar swiper-scrollbar"></div>
              </div>
            </div>
          </div>
          <!-- FINE COMPONENTE CONSTRUCTIONS-->
        </div>
      </div>
    </div>
  </div>
  <div class="u-container">
    <div class="c-info">
      <div class="c-info-card">
        <picture>
          <source media="(min-width: 1024px)" srcset="https://cdn.shopify.com/s/files/1/0231/7366/0752/files/madeclean.png?v=1687078547"/><img src="https://cdn.shopify.com/s/files/1/0231/7366/0752/files/madeclean.png?v=1687078547" alt="Capita clean energy"/>
        </picture>
        <a href="/pages/clean-energy"><span class="c-info-card__learn-more">learn more</span></a>
      </div>
      <div class="c-info-card">
        <picture>
          <source media="(min-width: 1024px)" srcset="https://cdn.shopify.com/s/files/1/0231/7366/0752/files/mothership.png?v=1687078547"/><img src="https://cdn.shopify.com/s/files/1/0231/7366/0752/files/mothership.png?v=1687078547" alt="Capita Mothership"/>
        </picture>
        <a href="/pages/mothership"><span class="c-info-card__learn-more">learn more</span></a>
      </div>
    </div>
  </div>
  <div class="c-related-products js-related-products">
    <div class="u-container">
      <div class="u-content">
        <h2 class="c-related-products__title">related products</h2>
        <div class="c-related-products__slider swiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <div class="c-product-card">
                <div class="c-product-card__media"><img src="snowboard.png" alt="alt"/></div>
                <div class="c-product-card__info"><span class="c-product-card__name">SB MELLOW HOOD</span><span class="c-product-card__price">$800.00</span></div>
              </div>
            </div>
            <div class="swiper-slide">
              <div class="c-product-card">
                <div class="c-product-card__media"><img src="hoodie.png" alt="alt"/></div>
                <div class="c-product-card__info"><span class="c-product-card__name">SB MELLOW HOOD</span><span class="c-product-card__price">$800.00</span></div>
              </div>
            </div>
            <div class="swiper-slide">
              <div class="c-product-card">
                <div class="c-product-card__media"><img src="snowboard.png" alt="alt"/></div>
                <div class="c-product-card__info"><span class="c-product-card__name">SB MELLOW HOOD</span><span class="c-product-card__price">$800.00</span></div>
              </div>
            </div>
            <div class="swiper-slide">
              <div class="c-product-card">
                <div class="c-product-card__media"><img src="hoodie.png" alt="alt"/></div>
                <div class="c-product-card__info"><span class="c-product-card__name">SB MELLOW HOOD</span><span class="c-product-card__price">$800.00</span></div>
              </div>
            </div>
          </div>
          <div class="c-related-products__scrollbar swiper-scrollbar"></div>
        </div>
      </div>
    </div>
  </div>
</main>


{% javascript %}

(function(document) {

  let selectors = {
    productVariants: '.js-product-variant:not(.is-disabled)',
    submitButton: '.js-add-to-cart',
    cartTrigger: '.js-cart-trigger',
    cartBtnsMinus: '.cart-qnt-btn-minus',
    cartBtnsPlus: '.cart-qnt-btn-plus',
    cartItems: '.c-cart-item',
    cartItemsLine: '.c-header-cart__line',
    cartItemsTot: '.c-cart-item__quantity-tot',
    cartSummary: '.c-header-cart__summary',
    msgEmptyCart: '.msg-empty-cart'
  };

  let productVariants = document.querySelectorAll(selectors.productVariants)
  let submitButton = document.querySelector(selectors.submitButton)
  let cartTrigger = document.querySelector(selectors.cartTrigger)
  let cartBtnsMinus = document.querySelectorAll(selectors.cartBtnsMinus)
  let cartBtnsPlus = document.querySelectorAll(selectors.cartBtnsPlus)
  let cartItems = document.querySelectorAll(selectors.cartItems)
  let cartItemsLine = document.querySelectorAll(selectors.cartItemsLine)
  let cartItemsTot = document.querySelectorAll(selectors.cartItemsTot)
  let cartSummary = document.querySelector(selectors.cartSummary)
  let msgEmptyCart = document.querySelector(selectors.msgEmptyCart)

  let itemList = { "items" : [], 'sections': 'cart-ajax' }

  window.addEventListener("load", (event) => {

    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    let paramOpenCart = urlParams.get('opencart')
    if (paramOpenCart == "true") {
        cartTrigger.click()
        var scrollpos = localStorage.getItem('scrollpos');
        if (scrollpos) window.scrollTo({
            top: scrollpos,
            behavior: "smooth",
          });
    }

    window.onbeforeunload = function(e) {
        localStorage.setItem('scrollpos', window.scrollY);
    };


    productVariants.forEach((productVariant,i) => {

      productVariant.addEventListener("click", (e) => {

        itemList.items = []

        productVariants.forEach((productVariant__clean) => {
          productVariant__clean.classList.remove("selected")
        })

        if ( productVariant.classList.contains("selected") ) {
          productVariant.classList.remove("selected")
        } else {
          productVariant.classList.add("selected")
        }

        let productVariant__id = productVariant.querySelector("input").getAttribute("variant-id")

        jsonVariant = {
          'id': productVariant__id,
          'quantity': 1
        }
        itemList.items.push(jsonVariant)

      }, false)
          
    })

    submitButton.addEventListener("click", (e) => {

      submitButton.classList.add("disabled")
      cartSummary.classList.remove("hide")
      
      fetch('/cart/add.js', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(itemList)
      }).then(response => {
        return response.json();
      }).then(data => {

        console.log(data);

        submitButton.classList.remove("disabled")
        
        let disablePlus = false

        reloadCart(disablePlus)

      }).catch((error) => {
        console.error('Error:', error);
      });

    }, false)

    function changeCart(changeVariant, cartBtnVariation, limit) {
      fetch('/cart/change.js', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(changeVariant)
        }).then(response => {
          return response.json();
        }).then(data => {
          
          console.log(data); // prints HTML of the section 
          console.log(data.total_price); // prints HTML of the section 
          console.log(data.items); // prints HTML of the section 

          // Reloat Cart Total
          let newTotal = (parseInt(data.total_price)).toFixed(2) / 100
          let cartTotal = document.querySelector(".c-header-cart__total")
          let cartTotalVal = cartTotal.querySelector(".c-header-cart__total__val")
          let currentCurency = cartTotal.getAttribute("data-currency")
          cartTotalVal.innerHTML = currentCurency + newTotal
          
          // Remove Item = 0
          if (changeVariant.quantity == 0) {
            document.querySelector('.c-cart-item[data-id="'+changeVariant.id+'"]').remove()
          }

          // Reload page if empty cart
          if (data.item_count == 0) {
            location.assign(location.protocol + '//' + location.host + location.pathname)
            return;
          }

          // Reset all cart items quantity
          data.items.forEach((cartItem,i) => {

            let currentItem = document.querySelector('.c-cart-item[data-id="'+cartItem.id+'"]')
            let btnMinus = currentItem.querySelector(".cart-qnt-btn-minus")
            let btnPlus = currentItem.querySelector(".cart-qnt-btn-plus")

            currentItem.querySelector(".c-cart-item__quantity-tot").innerHTML = cartItem.quantity
            btnMinus.setAttribute("data-qnt", cartItem.quantity - 1)
            if (cartItem.quantity == limit) {
              btnPlus.classList.add("disabled")
            } else {
              btnPlus.classList.remove("disabled")
              btnPlus.setAttribute("data-qnt", cartItem.quantity + 1)
            }

          })

          // Re-enable btn variation
          cartBtnVariation.classList.remove("disable")

          
        }).catch((error) => {
          console.error('Error:', error);
        });
    }

    listenerMinus(cartBtnsMinus)

    function listenerMinus(cartBtnsMinus) {

      cartBtnsMinus.forEach((cartBtnMinus,i) => {
        cartBtnMinus.addEventListener("click", (e) => {

          cartBtnMinus.classList.add("disable")

          let dataID = cartBtnMinus.getAttribute("data-id")
          let dataQnt = cartBtnMinus.getAttribute("data-qnt")

          let currentItem = document.querySelector('.js-cart-item-limit[data-id="'+dataID+'"]')
          let currentLimit = currentItem.getAttribute("data-limit")
          let currentLimit__qnt = parseInt(currentLimit)

          let changeVariant = {
                'id': dataID,
                'quantity': dataQnt
              }

          changeCart(changeVariant, cartBtnMinus, currentLimit__qnt)

        }, false)
      })

    }

    listenerPlus(cartBtnsPlus) 
    
    function listenerPlus(cartBtnsPlus) {
      cartBtnsPlus.forEach((cartBtnPlus,i) => {
        cartBtnPlus.addEventListener("click", (e) => {

          cartBtnPlus.classList.add("disable")

          let dataID = cartBtnPlus.getAttribute("data-id")
          let dataQnt = cartBtnPlus.getAttribute("data-qnt")

          console.log(dataID)

          let currentItem = document.querySelector('.js-cart-item-limit[data-id="'+dataID+'"]')
          let currentLimit = currentItem.getAttribute("data-limit")
          let currentLimit__qnt = parseInt(currentLimit)

          console.log(currentLimit__qnt)

          let changeVariant = {
                'id': dataID,
                'quantity': dataQnt
              }

          changeCart(changeVariant, cartBtnPlus, currentLimit__qnt)

        }, false)
      })
    }


    function reloadCart(disablePlus) {

      fetch('/cart.js', {
        method: 'GET',
        headers: {
          'Content-Type': 'application/json'
        }
      }).then(response => {
        return response.json();
      }).then(data => {

        console.log(data); // prints HTML of the section 

        let cartAjax = document.querySelector('#cart-ajax')
        cartAjax.innerHTML = ""

        console.log(data.items)

        data.items.forEach((cartItem,i) => {

          let quantityMinus = cartItem.quantity - 1
          let quantityPlus = cartItem.quantity + 1
          let disablePlusClass = ""

          let cartTotal = document.querySelector(".c-header-cart__total")
          let cartTotalVal = cartTotal.querySelector(".c-header-cart__total__val")
          let currentCurency = cartTotal.getAttribute("data-currency")

          let finalPrice = (currentCurency + (cartItem.final_price / 100))
          // let finalPrice = (currentCurency + (cartItem.final_price / 100)).toFixed(2)

          if (disablePlus) {
            let disablePlusClass = "disabled"
          }

          var divCartItem = document.createElement('div');
          divCartItem.setAttribute('class', 'c-cart-item');
          divCartItem.setAttribute('data-id', cartItem.id);

          divCartItem.innerHTML = `
                    <div class="c-cart-item__container">
                        <a href="`+cartItem.url+`">
                            <img class="c-cart-item__image" src="`+cartItem.image+`" alt="`+cartItem.title+`">
                        </a>
                        <div class="c-cart-item__info"><span>`+cartItem.title+`</span>
                        </div>
                        <div class="c-cart-item__quantity">

                            <button 
                                class="c-cart-item__quantity-btn cart-qnt-btn-minus" 
                                type="button" 
                                data-id="`+cartItem.id+`" 
                                data-qnt="`+quantityMinus+`" >
                                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="19.5" cy="19.5" r="7" stroke="white" /><path d="M22.498 19.5H16.498" stroke="white" stroke-linecap="round" /></svg>
                            </button>
                            
                            <span class="c-cart-item__quantity-tot">`+cartItem.quantity+`</span>
                            
                            <button 
                                class="c-cart-item__quantity-btn cart-qnt-btn-plus `+disablePlusClass+`" 
                                type="button" 
                                data-id="`+cartItem.id+`" 
                                data-qnt="`+quantityPlus+`" >
                                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="19.5" cy="19.5" r="7" stroke="white" /><path d="M22.498 19.5H16.498" stroke="white" stroke-linecap="round" /><path d="M19.5 16.0898V22.908" stroke="white" stroke-linecap="round" /></svg>
                            </button>

                        </div>
                        <span class="c-cart-item__price">`+finalPrice+`</span>
                    </div>

                    <div class="c-header-cart__line"></div>
          `

          cartAjax.append(divCartItem)
          msgEmptyCart.classList.add("hide")

          if (!cartTrigger.classList.contains("is-active")) {
            setTimeout(() => {
              cartTrigger.click()
            }, 250);
          }

        })

        cartBtnsMinus = cartAjax.querySelectorAll(selectors.cartBtnsMinus)
        cartBtnsPlus = cartAjax.querySelectorAll(selectors.cartBtnsPlus)

        listenerMinus(cartBtnsMinus)
        listenerPlus(cartBtnsPlus)

      }).catch((error) => {
        console.error('Error:', error);
      });
      return;




    }

  })





  })(document);



{% endjavascript %}